<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Basics of Building a Service</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Magento 2 Developer's Guide">
   <link href="/common/css/bootstrap.min.css" rel="stylesheet">
  <link href="/common/css/hc.css" rel="stylesheet">
  <link href="/common/css/main.css" rel="stylesheet">
  <link href="/common/css/jquery.toc.css" rel="stylesheet">
  <script src="/common/js/jquery-1.11.0.min.js"></script>
  <script src="/common/js/jquery.toc.js"></script>


<!--   <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
 -->  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.min.js"></script>
  <![endif]-->
    </head>
    <body>
<!-- <div class="nav-toggle"><i class="fa fa-bars fa-2x"></i> Herring Cove </div>
 -->      <div id = "wrapper">


<div class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <p class="navbar-brand">Magento 2 Developer's Guide</p>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
          <!-- <li><a href="/guides/m2devgde/svc-how-to-use.html">How a Client Uses a Service</a></li>
          <li><a href="/guides/m2devgde/what-is-svc.html">What is the Magento 2 Service Framework?</a></li> -->
         <!--  <li><a href="/links.html">Links</a></li>
          <li><a href="/projects.html">Projects</a></li>
          <li><a href="/about.html">About</a></li> -->
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>



       <!-- Sidebar -->
	   
	   
       <div id="sidebar-wrapper">
	   <div class="logo">
	   <a href="/"><img src="/common/images/magento-logo-m.png"></a></div>
	   <p class="brand">Contents</p>
 	   <div tocfrom="h1, h2, h3" toctemplate="default:nonum:collapsible"/></div>
	   <div class="back"><p class="back"><a href="/guides/m2devgde/v1.0.0.0/index.html"><img class="prev" src="/common/images/prev-arrow.png">Back to the Magento 2 Developer's Guide</a></p></div>

		</div>


     <div class="container">


<h1 id="basics-of-building-a-service">Basics of Building a Service</h1>

<p><a href="https://github.com/magento/devdocs/blob/master/guides/m2devgde/v1.0.0.0/svc-framework/build-svc.md" target="_blank"><em>Help us improve this page</em></a>&nbsp;<img src="/common/images/newWindow.gif" /></p>

<p>A <em>service</em> is basically a contract between code that uses the service and an integration that implements the service. The service itself is PHP code—typically one or more interfaces, classes, and methods. To review the properties of a service, see <a href="/guides/m2devgde/v1.0.0.0/svcs-framework/svc-props.html">Understanding the Properties and Responsibilities of a Service</a>.</p>

<p>The code that uses a service should depend on the interface rather than on the service implementation to enable the use of a different implementation if needed.</p>

<h2 id="about-the-service-interface">About the Service Interface</h2>

<p>Some important characteristics of a service interface:</p>

<ul>
  <li>
    <p>The methods must be annotated to describe the types of input, which are used to generate contracts for the WebAPI framework. </p>

    <p>Input arguments can be scalar types, arrays or objects. If objects are used, they should be implemented as <a href="#about-service-data-objects">Service Data Objects</a>.</p>
  </li>
  <li>
    <p>The metods must be annotated to describe the types of the output, which are used to generate contracts for WebAPI framework. </p>

    <p>Output argument can be scalar types, arrays or objects. If objects are used, they should be implemented as <a href="#about-service-data-objects">Service Data Objects</a>.</p>
  </li>
  <li>
    <p>Every interface must be versioned and the version must be a suffix of the interface name.</p>

    <p>Versions must be numbered V1, V2, and so on.</p>
  </li>
</ul>

<p>To see an example of a Customer service interface, see <a href="https://github.com/magento/magento2/blob/master/app/code/Magento/Customer/Service/V1/CustomerAccountServiceInterface.php" target="_blank">app/code/Magento/Customer/Service/V1/CustomerAccountServiceInterface.php</a> on the Magento 2 github.</p>

<h2 id="about-service-data-objects">About Service Data Objects</h2>

<p>A <em>service data object</em> carries data to and from service methods. Service data objects differ from <em>business objects</em> or <em>data access objects</em> in that a service data object only stores and retrieves its own data (accessors and mutators). </p>

<p>Service data objects define the interface that can be used by PHP clients to understand what data is available from the service. The service data object carries data from the service’s response to PHP clients and, in the same way, PHP clients use service data objects to pass data to the service or to exchange data with other clients.</p>

<p>Service data objects are:</p>

<ul>
  <li>
    <p>Simple objects that should not contain any business logic (in other words, service data objects contain no long that requires testing). </p>
  </li>
  <li>
    <p>Immutable; they have only getters and no business logic. </p>
  </li>
  <li>
    <p>Constructed using a data object builder. Data is set on the service data objects by the service or by client code.</p>

    <p>If data is set in client code, service data objects can be returned to the client to use the data or can passed to the service to consume the data. </p>
  </li>
  <li>
    <p>Located in a namespace that reflects the version of service data (same as the service itself).</p>
  </li>
</ul>

<h3 id="implementing-a-service-data-object">Implementing a Service Data Object</h3>

<p>General rules for implementing a service data object:</p>

<ul>
  <li>
    <p>The service data object class must reside in the <code>[extension_namespace]\Service\Data\V[xx]</code> namespace.</p>
  </li>
  <li>
    <p>A service data object typically has no PHP interface.</p>
  </li>
  <li>
    <p>A service data object must have getters that clearly describe all data that the data object can contain.</p>
  </li>
  <li>
    <p>Annotations in the code must clearly describe the parameters and outputs of all methods.</p>
  </li>
  <li>
    <p>Getters should rely on the <code>_get</code> method provided for convenience in the <code>\Magento\Framework\Service\Data\AbstractObjectBuilder</code> class.</p>
  </li>
  <li>
    <p>A service data object should extend <code>\Magento\Framework\Service\Data\AbstractObject</code> or any of its children. <em>This class is not currently in the Magento 2 public github repository.</em></p>
  </li>
</ul>

<h3 id="sample-service-data-object">Sample Service Data Object</h3>

<p>Here is a sample service data object <tt>some text to delete</tt>:</p>

<script src="https://gist.github.com/xcomSteveJohnson/6193ba94d58b7ee3b7c7.js"></script>

<h3 id="sample-data-object-builder">Sample Data Object Builder</h3>

<p>Here is a sample data object builder on which the preceding service data object is constructed:</p>

<script src="https://gist.github.com/xcomSteveJohnson/f7ccaf017ea745b895ec.js"></script>

<p>Note the following:</p>

<ul>
  <li>
    <p>A data object builder should be used to construct the service data object.</p>
  </li>
  <li>
    <p>Setters should rely on the method <code>_set</code> provided for convenience in the <code>\Magento\Framework\Service\Data\AbstractObjectBuilder</code> class. <em>This class is not currently in the Magento 2 public github repository.</em></p>
  </li>
</ul>

<h4 id="related-topics">Related Topics:</h4>

<ul>
  <li>
    <p><a href="/guides/m2devgde/v1.0.0.0/svcs-framework/what-is-svc.html">What is the Magento 2 Service Framework?</a></p>
  </li>
  <li>
    <p><a href="/guides/m2devgde/v1.0.0.0/svcs-framework/svc-how-to-use.html">How a Client Uses a Service</a></p>
  </li>
  <li>
    <p><a href="/guides/m2devgde/v1.0.0.0/svcs-framework/svcs-props.html">Understanding the Properties and Responsibilities of a Service</a></p>
  </li>
  <li>
    <p><a href="/guides/m2devgde/v1.0.0.0/webapi/what-is-webapi.html">What Is the WebAPI Framework?</a></p>
  </li>
  <li>
    <p><a href="/guides/m2devgde/v1.0.0.0/webapi/webapi-basic-auth.html">Authorizing WebAPI Requests</a></p>
  </li>
</ul>

    <footer>
       <p class="text-muted credit">&copy; 2014 MAGENTO, INC. ALL RIGHTS RESERVED.<br />
	   For more information, contact <a href="mailto:DL-Magento-Doc-Feedback@ebay.com">the Magento 2 documentation team</a>.</p>
	   
    </footer>
 <!-- Bootstrap core JavaScript-->
    <script src="/common/js/jquery-1.10.2.min.js"></script>
    <script src="/common/js/bootstrap.min.js"></script>
    <script src="/common/js/bootstrap.js"></script>
    <script type="text/javascript" src="/common/js/hc.js"></script>
</body>

</html>

