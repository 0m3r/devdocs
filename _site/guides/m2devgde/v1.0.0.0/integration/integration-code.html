<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Coding Your Integration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Magento 2 Developer's Guide">
   <link href="/common/css/bootstrap.min.css" rel="stylesheet">
  <link href="/common/css/hc.css" rel="stylesheet">
  <link href="/common/css/main.css" rel="stylesheet">
  <link href="/common/css/jquery.toc.css" rel="stylesheet">
  <script src="/common/js/jquery-1.11.0.min.js"></script>
<!--   <script src="/common/js/test.js"></script>
 -->  <script src="/common/js/jquery.toc.js"></script>


<!--   <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
 -->  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif] d-->
    </head>
    <body>
<!-- <div class="nav-toggle"><i class="fa fa-bars fa-2x"></i> Herring Cove </div>
 -->      <div id = "wrapper">


<div class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <p class="navbar-brand">Magento 2 Developer's Guide</p>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
          <!-- <li><a href="/guides/m2devgde/svc-how-to-use.html">How a Client Uses a Service</a></li>
          <li><a href="/guides/m2devgde/what-is-svc.html">What is the Magento 2 Service Framework?</a></li> -->
         <!--  <li><a href="/links.html">Links</a></li>
          <li><a href="/projects.html">Projects</a></li>
          <li><a href="/about.html">About</a></li> -->
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>



       <!-- Sidebar -->
	   
	   
       <div id="sidebar-wrapper">
	   <div class="logo">
	   <a href="/"><img src="/common/images/magento-logo-m.png"></a></div>
	   <p class="brand">Contents</p>
 	   <div tocfrom="h1, h2, h3" toctemplate="default:nonum:collapsible"/></div>
	   <div class="back"><p class="back"><a href="/guides/m2devgde/v1.0.0.0/index.html"><img class="prev" src="/common/images/prev-arrow.png">Back to the Magento 2 Developer's Guide</a></p></div>
		</div>


     <div class="container">


<h1 id="code-integration">Coding Your Integration</h1>

<p><a href="https://github.com/magento/devdocs/blob/master/guides/m2devgde/v1.0.0.0/integration/integration-code.md" target="_blank"><em>Help us improve this page</em></a>&nbsp;<img src="/common/images/newWindow.gif" /></p>

<p>This topic discusses how to code your integration with Magento. Eventually, you will be able to market your integration as an extension on Magento Connect; however, it’s not possible to do that now for Magento 2 integrations.</p>

<p><em>Note</em>: Throughout this guide, the term <em>integration configuration</em> is used to mean the integration’s <code>[your magento install dir]/app/code/vendor/module/etc/config.xml</code> and the term <em>API configuration</em> is used to mean the integration’s <code>[your magento install dir]/app/code/vendor/module/etc/integration/api.xml</code></p>

<h2 id="code-step1">Step 1: Creating data scripts</h2>

<p>Creating and updating an integration module are triggered by data setup scripts. You must add the following code to your integration’s <code>[your magento install dir]/app/code/vendor/module/etc/di.xml</code> file of the corresponding module for the data setup script:</p>

<script src="https://gist.github.com/xcomSteveJohnson/9750817.js"></script>

<p>After that, the <code>[vendor]/[module]/data/[module_setup]/[data-install-version].php</code> class is used to initiate processing of the integration configuration file.</p>

<script src="https://gist.github.com/xcomSteveJohnson/9750864.js"></script>

<p>This creates a new integration is created or updates an existing integration.</p>

<h2 id="code-step2">Step 2: Creating the configuration and API configuration files</h2>

<p>An integration requires the integration configuration and API configuration files.</p>

<p>Configuration files should follow the general requirements for configuration files and be placed in the <code>[vendor]/[module]/etc/integration directory. The validation schema for these files should be placed in the </code>[vendor]/[module]/Integration/etc/integration/config.xsd<code> (configuration file) and in </code>[vendor]/[module]/etc/integration/api.xsd` (API configuration file).</p>

<p>Sample <code>config.xml</code>:</p>

<script src="https://gist.github.com/xcomSteveJohnson/9752169.js"></script>

<p>The validation schema for <code>config.xml</code> is <code>Integration/etc/integration/config.xsd</code></p>

<script src="https://gist.github.com/xcomSteveJohnson/9752169.js"></script>

<p>Sample <code>api.xml</code>:</p>

<script src="https://gist.github.com/xcomSteveJohnson/9752191.js"></script>

<p>All integration identifiers (specified by <code>&lt;integration name=</code>) reference an appropriate entity in the integration’s <code>config.xml</code>.</p>

<h2 id="code-step3">Step 3: Assigning API configurations to the newly created integration module</h2>

<p>Magento’s <code>/app/code/Magento/Webapi/Model/Plugin/Setup.php</code> plug-in passes an integration’s name from this file, creates permissions due to information in the integration API file, and associates the API with your integration.</p>

<p>A snippet follows:</p>

<script src="https://gist.github.com/xcomSteveJohnson/9752298.js"></script>


    <footer>
       <p class="text-muted credit">Copyright &copy; 2014 Magento, Inc. (an eBay, Inc. company). All Rights Reserved.<br />
	   For more information, contact <a href="mailto:DL-Magento-Doc-Feedback@ebay.com">the Magento 2 documentation team</a>.</p>
	   
    </footer>
 <!-- Bootstrap core JavaScript-->
    <script src="/js/jquery-1.10.2.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/bootstrap.js"></script>
    <script type="text/javascript" src="/js/hc.js"></script>
</body>

</html>

