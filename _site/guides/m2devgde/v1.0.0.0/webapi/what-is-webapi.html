<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>What Is the Web API Framework?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Magento 2 Developer's Guide">
   <link href="/common/css/bootstrap.min.css" rel="stylesheet">
  <link href="/common/css/hc.css" rel="stylesheet">
  <link href="/common/css/main.css" rel="stylesheet">
  <link href="/common/css/jquery.toc.css" rel="stylesheet">
  <script src="/common/js/jquery-1.11.0.min.js"></script>
  <script src="/common/js/jquery.toc.js"></script>


<!--   <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
 -->  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.min.js"></script>
  <![endif]-->
    </head>
    <body>
<!-- <div class="nav-toggle"><i class="fa fa-bars fa-2x"></i> Herring Cove </div>
 -->      <div id = "wrapper">


<div class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <p class="navbar-brand">Magento 2 Developer's Guide</p>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
          <!-- <li><a href="/guides/m2devgde/svc-how-to-use.html">How a Client Uses a Service</a></li>
          <li><a href="/guides/m2devgde/what-is-svc.html">What is the Magento 2 Service Framework?</a></li> -->
         <!--  <li><a href="/links.html">Links</a></li>
          <li><a href="/projects.html">Projects</a></li>
          <li><a href="/about.html">About</a></li> -->
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>



       <!-- Sidebar -->
	   
	   
       <div id="sidebar-wrapper">
	   <div class="logo">
	   <a href="/"><img src="/common/images/magento-logo-m.png"></a></div>
	   <p class="brand">Contents</p>
 	   <div tocfrom="h1, h2, h3" toctemplate="default:nonum:collapsible"/></div>
	   <div class="back"><p class="back"><a href="/guides/m2devgde/v1.0.0.0/index.html"><img class="prev" src="/common/images/prev-arrow.png">Back to the Magento 2 Developer's Guide</a></p></div>

		</div>


     <div class="container">


<h1 id="webapi-whatis">What Is the Web API Framework?</h1>

<p><a href="https://github.com/magento/devdocs/blob/master/guides/m2devgde/v1.0.0.0/webapi/what-is-webapi.md" target="_blank"><em>Help us improve this page</em></a>&nbsp;<img src="/common/images/newWindow.gif" /></p>

<p>The Web API Framework gives third-party developers access to the service framework using REST or SOAP calls. Currently, Web API access is limited to Customer objects but we plan to expand access in time to include any Magento object.</p>

<p>Although REST and SOAP use different payloads and routing, they use the same authorization mechanisms to provide access to Magento services.</p>

<h2 id="exposing-a-service-using-rest-or-soap">Exposing a Service Using REST or SOAP</h2>

<p>A Magento service can be exposed using REST only or using both SOAP and REST. In othe words, you cannot expose a service using SOAP without exposing it using REST. </p>

<h3 id="configuring-webapixml">Configuring webapi.xml</h3>

<p>To start, you must configure your service using <code>app/code/[Vendor]/[Module]/etc/webapi.xml</code>. Each REST API call must have a corresponding <code>&lt;rest route&gt;</code> in <code>webapi.xml</code>. In other words, to access a method using REST, the method must have a <code>&lt;rest route&gt;</code> in <code>webapi.xml</code>; otherwise, the method cannot be accssed.</p>

<p>If a REST route is sensitive and is expected to be executed over HTTPS only, the method must use the <code>secure = true</code> attribute. Attempting to access a <code>secure</code> route using non-secure means results in an exception.</p>

<h3 id="sample-webapixml">Sample webapi.xml</h3>

<p>A sample <code>webapi.xml</code> follows:</p>

<script src="https://gist.github.com/xcomSteveJohnson/3d01cdea721b623b5264.js"></script>

<p>In this <code>webapi.xml</code>:</p>

<ul>
  <li>
    <p>The first route is accessible only by secure HTTP POST calls to <code>/V1/customers/me</code></p>
  </li>
  <li>
    <p>The first route calls the <code>getCustomer</code> method of <a href="https://github.com/magento/magento2/blob/master/app/code/Magento/Customer/Service/V1/CustomerAccountServiceInterface.php" target="_blank">CustomerAccountServiceInterface</a></p>
  </li>
  <li>
    <p><code>&lt;resource ref&gt;</code> means that the caller must be authorized to call <code>Magento_Customer::customer_self</code></p>
  </li>
  <li>
    <p>The second route is accessible only using HTTP GET calls to <code>/V1/customer/:id</code>, where <code>:id</code> is the ID of the customer you wish to retrieve</p>
  </li>
  <li>
    <p>The parameter <code>id</code> is required</p>
  </li>
  <li>
    <p>This second route also calls the ‘getCustomer’ method of <a href="https://github.com/magento/magento2/blob/master/app/code/Magento/Customer/Service/V1/CustomerAccountServiceInterface.php" target="_blank">CustomerAccountServiceInterface</a></p>
  </li>
  <li>
    <p>The caller must be authorized to call <code>Magento_Customer::read</code> </p>
  </li>
</ul>

<p>For comparison, refer to Customer’s <a href="https://github.com/magento/magento2/blob/master/app/code/Magento/Customer/etc/webapi.xml" target="_blank">webapi.xml</a>.</p>

<h3 id="sample-webapixsd">Sample webapi.xsd</h3>

<p>Your <code>webapi.xml</code> must be validated by an <code>app/code/_Vendor_/Webapi/etc/webapi.xsd</code>. For comparision see Customer’s, <a href="https://github.com/magento/magento2/blob/master/app/code/Magento/Webapi/etc/webapi.xsd" target="_blank">webapi.xsd</a>.</p>

<p>Your module can use <code>webapi.xsd</code> or you can create a customized validation.</p>

<h4 id="related-topics">Related Topics:</h4>

<ul>
  <li>
    <p><a href="/guides/m2devgde/v1.0.0.0/webapi/webapi-basic-auth.html">Authorizing Web API Requests</a></p>
  </li>
  <li>
    <p><a href="/guides/m2devgde/v1.0.0.0/svcs-framework/what-is-svc.html">What is the Magento 2 Service Framework?</a></p>
  </li>
  <li>
    <p><a href="/guides/m2devgde/v1.0.0.0/rest/rest-overview.html">Accessing Magento Objects Using REST</a></p>
  </li>
  <li>
    <p><a href="/guides/m2devgde/v1.0.0.0/svcs-framework/svc-how-to-use.html">How a Client Uses a Service</a></p>
  </li>
  <li>
    <p><a href="/guides/m2devgde/v1.0.0.0/svcs-framework/svcs-props.html">Interacting With and Overriding Services</a></p>
  </li>
</ul>

    <footer>
       <p class="text-muted credit">&copy; 2014 MAGENTO, INC. ALL RIGHTS RESERVED.<br />
	   For more information, contact <a href="mailto:DL-Magento-Doc-Feedback@ebay.com">the Magento 2 documentation team</a>.</p>
	   
    </footer>
 <!-- Bootstrap core JavaScript-->
    <script src="//common/js/jquery-1.10.2.min.js"></script>
    <script src="//common/js/bootstrap.min.js"></script>
    <script src="//common/js/bootstrap.js"></script>
    <script type="text/javascript" src="//common/js/hc.js"></script>
</body>

</html>

